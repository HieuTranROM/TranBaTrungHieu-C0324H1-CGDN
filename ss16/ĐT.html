<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
</body>
<script>
    class Mobile {
        constructor(pin, draft, inbox, sentMessage, status, phone) {
            this.pin = pin;
            this.draft = draft;
            this.inbox = inbox;
            this.sentMessage = sentMessage;
            this.status = status;
            this.phone = phone;
        }
        isTurnOnOrOff() {
            return this.status;
        }
        turnOn() {
            this.status = true;
        }
        turnOff() {
            this.status = false;
        }
        sacPin() {
            // Bất đồng bộ
            // setInterval và clearInterval
            while (this.pin <= 100) {
                this.pin = this.pin + 0.01;
            }
        }
        soanTinNhan() {
            // Xây dựng giao diện nhập tin nhắn.
            this.draft = prompt("Nhập tin nhắn: ");
        }
        nhanTinNhan(message, mobile) {
            this.inbox.unshift(message + "~" + mobile.phone);
        }
        guiTinNhan(mobile) {
            // let temp = confirm()
            this.soanTinNhan();
            this.sentMessage.unshift(this.draft);
            mobile.nhanTinNhan(this.draft, this);
            this.draft = "";
        }
        xemTinDaGui() {
            console.log("Tin nhắn đã gửi:");
            for (let i = 0; i < this.sentMessage.length; i++) {
                console.log(`Tin nhắn ${i + 1}: ${this.sentMessage[i]}`);
            }
        }
        // Thêm chức năng nhận tin nhắn từ một chiếc mobile khác
        nhanTinNhan(message, mobile) {
            this.inbox.unshift(message + "~" + mobile.phone);
        }
        // Thêm chức năng xem tin nhắn trong hộp thư đến
        xemTinNhanTrongHopThuDen() {
            console.log("Tin nhắn trong hộp thư đến:");
            this.inbox.forEach((message) => console.log(message));
        }
        decreaseBattery() {
            this.pin -= 0.01;
        }
        // Kiểm tra điện thoại bật thì mới cho sử dụng các chức năng
        kiemTraDienThoaiBat() {
            if (this.status) {
                console.log("Điện thoại đã được bật.");
                return true;
            } else {
                console.log("Điện thoại chưa được bật.");
                return false;
            }
        }
    }

</script>
</html>